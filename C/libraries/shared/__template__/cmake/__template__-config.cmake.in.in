@PACKAGE_INIT@

# Helper macro to import the shared target
macro(import_shared_target)
    if(NOT EXISTS "${CMAKE_CURRENT_LIST_DIR}/@NAME@-shared-targets.cmake")
        set(${CMAKE_FIND_PACKAGE_NAME}_NOT_FOUND_MESSAGE "@NAME@ shared libraries were requested but not found")
        set(${CMAKE_FIND_PACKAGE_NAME}_FOUND OFF)
        return()
    endif()

    include("${CMAKE_CURRENT_LIST_DIR}/@NAME@-shared-targets.cmake")
endmacro()

# Only import if not already defined
if(NOT TARGET @NAMESPACE@::@NAME@)
    import_shared_target()
    check_required_components(@NAME@)
    message("-- Found shared @NAME@ (version ${${CMAKE_FIND_PACKAGE_NAME}_VERSION})")
endif()
